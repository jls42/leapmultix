<details>
<summary>هذا المستند متوفر أيضًا بلغات أخرى</summary>

- [Français](./README.md)
- [English](./README.en.md)
- [Español](./README.es.md)
- [Português](./README.pt.md)
- [Deutsch](./README.de.md)
- [中文](./README.zh.md)
- [हिन्दी](./README.hi.md)
- [Italiano](./README.it.md)
- [Svenska](./README.sv.md)
- [Polski](./README.pl.md)
- [Nederlands](./README.nl.md)
- [Română](./README.ro.md)
- [日本語](./README.ja.md)
- [한국어](./README.ko.md)

</details>

# LeapMultix

<!-- الشارات (تحديث <owner>/<repo> بعد ترحيل GitHub) -->

![CI](https://img.shields.io/github/actions/workflow/status/jls42/leapmultix/ci.yml?branch=main)

[![CodeFactor](https://www.codefactor.io/repository/github/jls42/leapmultix/badge)](https://www.codefactor.io/repository/github/jls42/leapmultix)
[![Codacy Badge](https://app.codacy.com/project/badge/Grade/fe7c2fbbea5e484889ac9b435c8d9956)](https://app.codacy.com/gh/jls42/leapmultix/dashboard?utm_source=gh&utm_medium=referral&utm_content=&utm_campaign=Badge_grade)
[![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=jls42_leapmultix&metric=alert_status)](https://sonarcloud.io/summary/new_code?id=jls42_leapmultix)

![License: AGPL v3](https://img.shields.io/badge/License-AGPL_v3-blue.svg)

## جدول المحتويات

- [الوصف](#الوصف)
- [الميزات](#-الميزات)
- [بداية سريعة](#-بداية-سريعة)
- [الهندسة المعمارية](#-الهندسة-المعمارية)
- [أوضاع اللعبة المفصلة](#-أوضاع-اللعبة-المفصلة)
- [التطوير](#-التطوير)
- [التوافق](#-التوافق)
- [الترجمة](#-الترجمة)
- [تخزين البيانات](#-تخزين-البيانات)
- [الإبلاغ عن مشكلة](#-الإبلاغ-عن-مشكلة)
- [الترخيص](#-الترخيص)

## الوصف

LeapMultix هو تطبيق ويب تعليمي تفاعلي حديث مصمم للأطفال (8-12 سنة) لإتقان جداول الضرب. يقدم التطبيق **4 أوضاع لعب كلاسيكية** و **4 ألعاب أركيد صغيرة** في واجهة سهلة الاستخدام ومتاحة ومتعددة اللغات.

**تم التطوير بواسطة:** Julien LS (contact@jls42.org)

**الرابط المباشر:** https://leapmultix.jls42.org/

## ✨ الميزات

### 🎮 أوضاع اللعبة

- **وضع الاستكشاف**: استكشاف بصري وتفاعلي لجداول الضرب.
- **وضع الاختبار**: أسئلة متعددة الخيارات مع تقدم تكيفي.
- **وضع التحدي**: سباق مع الزمن بمستويات صعوبة مختلفة.
- **وضع المغامرة**: تقدم قصصي عبر المستويات مع خريطة تفاعلية.

### 🕹️ ألعاب الأركيد الصغيرة

- **MultiInvaders**: لعبة Space Invaders تعليمية - دمر الإجابات الخاطئة.
- **MultiMiam**: لعبة Pac-Man رياضية - اجمع الإجابات الصحيحة.
- **MultiMemory**: لعبة ذاكرة - طابق عمليات الضرب بنتائجها.
- **MultiSnake**: لعبة Snake تعليمية - انمو عن طريق أكل الأرقام الصحيحة.

### 🌍 الميزات الشاملة

- **متعدد المستخدمين**: إدارة ملفات تعريف فردية مع حفظ التقدم.
- **متعدد اللغات**: دعم للفرنسية والإنجليزية والإسبانية.
- **التخصيص**: صور رمزية، سمات ألوان، خلفيات.
- **إمكانية الوصول**: التنقل باستخدام لوحة المفاتيح، دعم اللمس، الامتثال لـ WCAG 2.1 AA.
- **تصميم متجاوب مع الجوال**: واجهة محسنة للأجهزة اللوحية والهواتف الذكية.
- **نظام التقدم**: نقاط، شارات، تحديات يومية.

## 🚀 بداية سريعة

### المتطلبات الأساسية

- Node.js (الإصدار 16 أو أحدث)
- متصفح ويب حديث

### التثبيت

```bash
# استنساخ المشروع
git clone https://github.com/jls42/leapmultix.git
cd leapmultix

# تثبيت التبعيات
npm install

# بدء خادم التطوير (الخيار 1)
npm run serve
# سيكون التطبيق متاحًا على http://localhost:8080 (أو المنفذ المتاح التالي)

# أو باستخدام بايثون (الخيار 2)
python3 -m http.server 8000
# سيكون التطبيق متاحًا على http://localhost:8000
```

### البرامج النصية المتاحة

```bash
# التطوير
npm run serve          # خادم محلي
npm run lint           # فحص الكود
npm run test           # تشغيل جميع الاختبارات (CJS)
npm run test:coverage  # اختبارات مع تغطية
npm run test:esm       # اختبارات ESM (مجلدات tests-esm/، Jest vm-modules)
npm run test:pwa-offline # اختبار PWA دون اتصال (يتطلب Puppeteer)، بعد `npm run serve`

# التحليل والصيانة
npm run analyze:jsdoc  # تحليل التوثيق
npm run improve:jsdoc  # تحسين JSDoc التلقائي
npm run audit:mobile   # اختبارات استجابة الجوال
npm run audit:accessibility # اختبارات إمكانية الوصول
npm run dead-code      # كشف الكود غير المستخدم
npm run analyze:globals # تحليل المتغيرات العامة
npm run analyze:dependencies # تحليل استخدام التبعيات
npm run assets:analyze # تحليل الأصول المتجاوبة
npm run assets:diff    # مقارنة الأصول

# البناء والتسليم
npm run build          # بناء الإنتاج (Rollup) + ما بعد البناء (dist/ كامل)
npm run serve:dist     # خدمة dist/ على http://localhost:5000 (أو منفذ متاح)
```

## 🏗️ الهندسة المعمارية

### هيكل الملفات

```
leapmultix/
├── index.html              # نقطة الدخول الرئيسية
├── js/
│   ├── core/               # وحدات ES6 الأساسية
│   │   ├── GameMode.js     # الفئة الأساسية لأوضاع اللعبة
│   │   ├── GameModeManager.js
│   │   ├── storage.js      # واجهة برمجة تطبيقات التخزين
│   │   ├── audio.js        # إدارة الصوت
│   │   └── utils.js        # أدوات عامة
│   ├── components/         # مكونات واجهة المستخدم القابلة لإعادة الاستخدام
│   │   ├── topBar.js       # شريط التنقل
│   │   ├── infoBar.js      # أشرطة معلومات اللعبة
│   │   ├── dashboard.js    # لوحة تحكم المستخدم
│   │   └── customization.js # واجهة التخصيص
│   ├── modes/              # أوضاع اللعبة المعاد تصميمها
│   │   ├── QuizMode.js
│   │   ├── ChallengeMode.js
│   │   ├── AdventureMode.js
│   │   ├── DiscoveryMode.js
│   │   └── ArcadeMode.js
│   ├── arcade-*.js         # ألعاب الأركيد الصغيرة
│   ├── multimiam-*.js      # وحدات لعبة Pac-Man
│   ├── multisnake.js       # لعبة Snake التعليمية
│   ├── main-es6.js         # نقطة دخول ES6
│   ├── main.js             # المنسق الرئيسي
│   ├── lazy-loader.js      # التحميل عند الطلب (التحميل الكسول)
│   └── utils-es6.js        # أدوات ES6
├── css/                    # أنماط معيارية
├── assets/                 # الموارد
│   ├── images/             # الصور والرسوم المتحركة
│   ├── sounds/             # المؤثرات الصوتية
│   ├── translations/       # ملفات الترجمة
│   └── videos/             # فيديوهات تعليمية
└── tests/                  # اختبارات آلية
```

### الهندسة التقنية

**وحدات ES6 الحديثة**: يستخدم المشروع بنية معيارية مع فئات ES6 واستيراد/تصدير أصلي.

**مكونات قابلة لإعادة الاستخدام**: تم بناء الواجهة باستخدام مكونات واجهة مستخدم مركزية (TopBar, InfoBar, Dashboard).

**التحميل الكسول**: تحميل ذكي للوحدات عند الطلب لتحسين الأداء.

**نظام تخزين موحد**: واجهة برمجة تطبيقات مركزية لاستمرارية بيانات المستخدم.

**إدارة صوت مركزية**: التحكم في الصوت مع دعم متعدد اللغات وتفضيلات لكل مستخدم.

## 🎯 أوضاع اللعبة المفصلة

### وضع الاستكشاف

واجهة استكشاف بصرية لجداول الضرب مع:

- تصور تفاعلي لعمليات الضرب
- رسوم متحركة ومساعدات للذاكرة
- سحب وإفلات تعليمي
- تقدم حر حسب الجدول

### وضع الاختبار

أسئلة متعددة الخيارات مع:

- 10 أسئلة لكل جلسة
- تقدم تكيفي بناءً على النجاح
- لوحة مفاتيح رقمية افتراضية
- نظام سلسلة (سلسلة من الإجابات الصحيحة)

### وضع التحدي

سباق مع الزمن مع:

- 3 مستويات صعوبة (مبتدئ، متوسط، صعب)
- مكافأة وقت للإجابات الصحيحة
- نظام حياة
- لوحة صدارة لأعلى الدرجات

### وضع المغامرة

تقدم قصصي مع:

- 12 مستوى ذا طابع خاص قابل للفتح
- خريطة تفاعلية مع تقدم بصري
- قصة غامرة مع شخصيات
- نظام نجوم ومكافآت

### ألعاب الأركيد الصغيرة

تقدم كل لعبة صغيرة:

- اختيار الصعوبة والتخصيص
- نظام حياة ونقاط
- تحكم بلوحة المفاتيح واللمس
- لوحات صدارة فردية لكل مستخدم

## 🛠️ التطوير

### هندسة المكونات

**GameMode (الفئة الأساسية)**: ترث جميع الأوضاع من فئة مشتركة ذات طرق موحدة.

**GameModeManager**: تنسيق مركزي لإطلاق وإدارة الأوضاع.

**مكونات واجهة المستخدم**: توفر TopBar و InfoBar و Dashboard و Customization واجهة متسقة.

**التحميل الكسول**: يتم تحميل الوحدات عند الطلب لتحسين الأداء الأولي.

### الاختبارات

يتضمن المشروع مجموعة اختبارات شاملة:

- اختبارات وحدة للوحدات الأساسية
- اختبارات تكامل للمكونات
- اختبارات أوضاع اللعبة
- تغطية كود آلية

```bash
npm test              # جميع الاختبارات (CJS)
npm test:core         # اختبارات الوحدات الأساسية
npm test:integration  # اختبارات التكامل
npm test:coverage     # تقرير التغطية
npm run test:esm      # اختبارات ESM (مثل components/dashboard) عبر vm-modules
```

### بناء الإنتاج

- **Rollup**: يجمع `js/main-es6.js` في ESM مع تقسيم الكود وخرائط المصدر.
- **Terser**: تصغير تلقائي للتحسين.
- **ما بعد البناء**: نسخ `css/` و `assets/`، والأيقونات (`favicon.ico`, `favicon.png`, `favicon.svg`)، و `sw.js`، وإعادة كتابة `dist/index.html` للإشارة إلى ملف الدخول المجزأ (مثل `main-es6-*.js`).
- **المجلد النهائي**: `dist/` جاهز للخدمة بشكل ثابت.

```bash
npm run build      # يولد dist/
npm run serve:dist # يخدم dist/ (المنفذ 5000)
```

### التكامل المستمر

**GitHub Actions**: `.github/workflows/ci.yml`

- **build-test**: `npm ci`، `lint`، `test`، `audit` + قطعة أثرية للتغطية.
- **accessibility**: `npm run audit:accessibility` (غير مانع).
- **test-esm**: `npm run test:esm` مع وحدات VM.
- **lighthouse**: تدقيق أداء الجوال (غير مانع)، تقارير كقطع أثرية.

### PWA (دون اتصال وتثبيت)

- **Service Worker**: استراتيجية الشبكة أولاً مع احتياطي دون اتصال؛ الصور مع استراتيجية التخزين المؤقت أولاً؛ الترجمات مع stale-while-revalidate؛ JS/CSS مع الشبكة أولاً.
- **Manifest**: أيقونات SVG/PNG؛ التثبيت ممكن على الجوال.
- **الاختبار دون اتصال محليًا**:
  1. قم بتشغيل `npm run serve` وافتح `http://localhost:8080` (أو المنفذ المعروض).
  2. اقطع اتصال الشبكة وقم بتحديث الصفحة ← سيتم عرض `offline.html`.
  3. اختبار آلي (يتطلب Puppeteer): `npm run test:pwa-offline`.

### معايير الجودة

- **ESLint**: التحقق من صحة كود جافا سكريبت.
- **Prettier**: تنسيق تلقائي.
- **JSDoc**: توثيق تلقائي للوظائف.
- **إمكانية الوصول**: الامتثال لـ WCAG 2.1 AA.
- **الأداء**: التحميل الكسول، تحسينات CSS.

## 📱 التوافق

### المتصفحات المدعومة

- Chrome/Chromium 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### الأجهزة

- **سطح المكتب**: تحكم بلوحة المفاتيح والفأرة.
- **الأجهزة اللوحية**: واجهة لمس محسنة.
- **الهواتف الذكية**: تصميم متجاوب تكيفي.

### إمكانية الوصول

- تنقل كامل بلوحة المفاتيح (Tab، الأسهم، Esc).
- أدوار ARIA وتسميات لقارئات الشاشة.
- تباينات ألوان متوافقة.
- دعم التقنيات المساعدة.

## 🌍 الترجمة

دعم كامل متعدد اللغات:

- **الفرنسية** (اللغة الافتراضية)
- **الإنجليزية**
- **الإسبانية**

### إدارة الترجمات

**ملفات الترجمة:** `assets/translations/*.json`

**التنسيق:**

```json
{
  "menu_start": "ابدأ",
  "quiz_correct": "أحسنت!",
  "arcade_invasion_title": "MultiInvaders"
}
```

**برامج الإدارة النصية:**

```bash
npm run i18n:verify  # التحقق من المفاتيح المفقودة/غير المتسقة
npm run i18n:unused  # سرد المفاتيح غير المستخدمة
```

**تغطية الترجمات:**

- واجهة مستخدم كاملة
- تعليمات الألعاب
- رسائل الخطأ والتعليقات
- الأوصاف والمساعدة السياقية

## 📊 تخزين البيانات

### بيانات المستخدم

- الملفات الشخصية والتفضيلات
- التقدم حسب وضع اللعبة
- نقاط وإحصائيات ألعاب الأركيد
- إعدادات التخصيص

### الميزات التقنية

- التخزين المحلي (localStorage) مع احتياطيات.
- عزل بيانات المستخدم.
- حفظ التقدم التلقائي.
- ترحيل تلقائي للبيانات القديمة.

## 🐛 الإبلاغ عن مشكلة

يمكن الإبلاغ عن المشكلات عبر مشاكل GitHub. يرجى تضمين:

- وصف مفصل للمشكلة.
- خطوات لإعادة إنتاجها.
- المتصفح والإصدار.
- لقطات شاشة إذا كانت ذات صلة.

## 💝 دعم المشروع

**[☕ تبرع عبر PayPal](https://paypal.me/jls)**

## 📄 الترخيص

هذا المشروع مرخص بموجب ترخيص AGPL v3. انظر ملف `LICENSE` لمزيد من التفاصيل.

---

_LeapMultix - تطبيق تعليمي حديث لتعلم جداول الضرب._
